{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/components/Grain.js","webpack:///./src/shaders/grain/vertex.glsl","webpack:///./src/shaders/grain/fragment.glsl","webpack:///./src/js/components/Slideshow.js","webpack:///./src/js/components/Curtain.js","webpack:///./src/js/components/Header.js","webpack:///./src/js/utility/smallViewport.js","webpack:///./src/js/utility/tweenCSSVar.js","webpack:///./src/js/components/Intro.js","webpack:///./src/js/index.js","webpack:///./src/shaders/slideshow/fragment.glsl"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Grain","_classCallCheck","this","time","setupRenderer","setupGeometry","setupProgram","setupMesh","addEventListener","onResize","requestAnimationFrame","animate","renderer","Renderer","alpha","gl","canvas","classList","add","document","body","appendChild","geometry","Geometry","position","size","Float32Array","uv","vertex","fragment","program","Program","uniforms","uTime","mesh","Mesh","update","render","scene","setSize","innerWidth","innerHeight","Slideshow","options","_this","Slideshow_classCallCheck","containerId","canvasId","container","getElementById","thumbnails","querySelectorAll","concat","thumbnailsClass","prevBtn","querySelector","prevClass","nextBtn","nextClass","width","offsetWidth","height","images","tl","gsap","timeline","ease","textures","camera","intensity","scrollHeight","duration","transitionDuration","autoplayDuration","easing","current","loadTextures","then","setupCamera","setupScene","setupPlane","setupResize","resize","addEventListeners","goTo","WebGLRenderer","setPixelRatio","devicePixelRatio","setClearColor","PerspectiveCamera","set","Scene","material","ShaderMaterial","extensions","derivatives","progress","type","texture1","texture2","displacement","TextureLoader","load","resolution","Vector4","vertexShader","fragmentShader","plane","PlaneGeometry","_this2","loadManager","LoadingManager","loader","forEach","url","Promise","resolve","onLoad","_this3","next","getBoundingClientRect","aspect","a1","a2","vFOV","ThreeMath","degToRad","fov","Math","tan","z","scale","x","y","imageAspect","image","w","dist","PI","atan","updateProjectionMatrix","_this4","console","log","thumbnail","onThumbnailClick","prev","nextTexture","e","nextSlideIndex","currentTarget","getAttribute","index","_this5","parseInt","updateTimeline","contains","remove","to","onStart","onComplete","nextIndex","_this6","undefined","currentProgressEl","killTweensOf","fromTo","onUpdate","style","setProperty","hiddenElsClassName","defaultDuration","Curtain","Curtain_classCallCheck","id","el","hiddenEls","curtainScaleInCallbacks","setup","opacity","callback","delay","keyframes","applyCallbacks","switchTransformOrigin","displayHiddenEls","Header","Header_classCallCheck","logo","porscheEl","singerEl","singerMaskEl","TL","setPorscheStartPosition","setSingerStartPosition","boundingClientRect","widthMinPX","max","min","widthWV","newX","newY","newPorscheBoundingRect","xOff","yOff","strokeDashoffset","smallViewport","cssValue","getComputedStyle","documentElement","getPropertyValue","maxWidth","tweenCSSVar","varName","from","variable","Intro","Intro_classCallCheck","staggerEls","curtainEls","footerEl","curtainsAnimationOffset","header","setupCurtains","hideStuff","_curtain","scaleX","collection","offset","stagger","amount","onStartCurtainTween","target","_targets","setAttribute","cancelTween","parent","closest","addCurtainScaleInCallback","reveal","animateIn","animateInSmallScreen","animateInLargeScreen","animateStaggers","animateCurtains","animateFooter","headerButtons","elsToStagger","Array","debug"],"mappings":"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","file":"js/app.86494669.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([92,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Renderer, Geometry, Program, Mesh } from \"ogl\";\r\nimport grainVertex from \"../../shaders/grain/vertex.glsl\";\r\nimport grainFragment from \"../../shaders/grain/fragment.glsl\";\r\n\r\nclass Grain {\r\n  constructor() {\r\n    this.time = 0;\r\n    this.setupRenderer();\r\n    this.setupGeometry();\r\n    this.setupProgram();\r\n    this.setupMesh();\r\n\r\n    window.addEventListener(\"resize\", this.onResize.bind(this), false);\r\n    this.onResize();\r\n\r\n    requestAnimationFrame(this.animate.bind(this));\r\n  }\r\n\r\n  setupRenderer() {\r\n    this.renderer = new Renderer({\r\n      alpha: true\r\n    });\r\n    this.gl = this.renderer.gl;\r\n    this.gl.canvas.classList.add(\"grain\");\r\n    document.body.appendChild(this.gl.canvas);\r\n  }\r\n\r\n  setupGeometry() {\r\n    // For details, refer to\r\n    // https://github.com/oframe/ogl/blob/master/examples/triangle-screen-shader.html\r\n    this.geometry = new Geometry(this.gl, {\r\n      position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\r\n      uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) }\r\n    });\r\n  }\r\n\r\n  setupProgram() {\r\n    this.vertex = grainVertex;\r\n    this.fragment = grainFragment;\r\n\r\n    this.program = new Program(this.gl, {\r\n      vertex: this.vertex,\r\n      fragment: this.fragment,\r\n      uniforms: {\r\n        uTime: { value: 0 }\r\n      }\r\n    });\r\n  }\r\n\r\n  setupMesh() {\r\n    this.mesh = new Mesh(this.gl, {\r\n      geometry: this.geometry,\r\n      program: this.program\r\n    });\r\n  }\r\n\r\n  animate() {\r\n    requestAnimationFrame(this.animate.bind(this));\r\n    this.update();\r\n    this.render();\r\n  }\r\n\r\n  update() {\r\n    this.time++;\r\n    // Hack to mimics a slower framerate\r\n    if (this.time % 5 === 0) {\r\n      this.program.uniforms.uTime.value += 1;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.renderer.render({ scene: this.mesh });\r\n  }\r\n\r\n  onResize() {\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n  }\r\n}\r\n\r\nexport default Grain;\r\n","export default \"#define GLSLIFY 1\\nattribute vec2 uv;\\n    attribute vec2 position;\\n    varying vec2 vUv;\\n    \\n    void main() {\\n      vUv = uv;\\n      gl_Position = vec4(position, 0, 1);\\n    }\";","export default \"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform float uTime;\\nvarying vec2 vUv;\\n\\nfloat rand(vec2 co){\\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec2 uv = vUv;\\n    float r = rand(uv * uTime);\\n    gl_FragColor = vec4(r, r, r, 0.025);\\n}\";","import {\r\n  WebGLRenderer,\r\n  TextureLoader,\r\n  ShaderMaterial,\r\n  Scene,\r\n  PerspectiveCamera,\r\n  LoadingManager,\r\n  PlaneGeometry,\r\n  Mesh,\r\n  Vector4,\r\n  Math as ThreeMath\r\n} from \"three\";\r\nimport gsap from \"gsap\";\r\n\r\nclass Slideshow {\r\n  constructor(options) {\r\n    this.containerId = options.containerId;\r\n    this.canvasId = options.canvasId;\r\n    this.container = document.getElementById(this.containerId);\r\n    this.thumbnails = document.querySelectorAll(`.${options.thumbnailsClass}`);\r\n    this.prevBtn = document.querySelector(`.${options.prevClass}`);\r\n    this.nextBtn = document.querySelector(`.${options.nextClass}`);\r\n    this.width = this.container.offsetWidth;\r\n    this.height = this.container.offsetWidth;\r\n    this.images = options.images;\r\n    this.tl = gsap.timeline();\r\n    this.ease = options.ease;\r\n\r\n    // ThreeJS stuff\r\n    this.textures = [];\r\n    this.scene = null;\r\n    this.camera = null;\r\n    this.renderer = null;\r\n\r\n    this.vertex = `varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}`;\r\n    this.fragment = options.fragment;\r\n    this.uniforms = options.uniforms;\r\n    this.intensity = options.intensity;\r\n    this.width = this.container.offsetWidth;\r\n    this.height = this.container.scrollHeight;\r\n    this.duration = options.transitionDuration;\r\n    this.autoplayDuration = options.autoplayDuration;\r\n    this.easing = options.easing;\r\n    this.current = null;\r\n\r\n    this.loadTextures().then(() => {\r\n      this.setupRenderer();\r\n      this.setupCamera();\r\n      this.setupScene();\r\n      this.setupPlane();\r\n      this.setupResize();\r\n      this.resize();\r\n      this.render();\r\n      this.addEventListeners();\r\n      this.goTo(0);\r\n    });\r\n  }\r\n\r\n  setupRenderer() {\r\n    this.renderer = new WebGLRenderer({\r\n      canvas: document.getElementById(this.canvasId)\r\n    });\r\n    this.renderer.setPixelRatio(window.devicePixelRatio);\r\n    this.renderer.setSize(this.width, this.height);\r\n    this.renderer.setClearColor(0x00ff00, 1);\r\n  }\r\n\r\n  setupCamera() {\r\n    this.camera = new PerspectiveCamera(\r\n      70,\r\n      this.width / this.height,\r\n      0.001,\r\n      1000\r\n    );\r\n    this.camera.position.set(0, 0, 2);\r\n  }\r\n\r\n  setupScene() {\r\n    this.scene = new Scene();\r\n  }\r\n\r\n  setupPlane() {\r\n    this.material = new ShaderMaterial({\r\n      extensions: {\r\n        derivatives: \"#extension GL_OES_standard_derivatives : enable\"\r\n      },\r\n      uniforms: {\r\n        progress: { type: \"f\", value: 0 },\r\n        intensity: { type: \"f\", value: this.intensity },\r\n        texture1: { type: \"f\", value: null },\r\n        texture2: { type: \"f\", value: this.textures[1] },\r\n        displacement: {\r\n          type: \"f\",\r\n          value: new TextureLoader().load(\"public/displacement/02.png\")\r\n        },\r\n        resolution: { type: \"v4\", value: new Vector4() }\r\n      },\r\n      vertexShader: this.vertex,\r\n      fragmentShader: this.fragment\r\n    });\r\n\r\n    this.plane = new Mesh(new PlaneGeometry(1, 1, 10, 10), this.material);\r\n    this.scene.add(this.plane);\r\n  }\r\n\r\n  loadTextures() {\r\n    const loadManager = new LoadingManager();\r\n    const loader = new TextureLoader(loadManager);\r\n\r\n    this.images.forEach(url => {\r\n      this.textures.push(loader.load(url));\r\n    });\r\n\r\n    return new Promise(function(resolve) {\r\n      loadManager.onLoad = resolve;\r\n    });\r\n  }\r\n\r\n  clickEvent() {\r\n    this.container.addEventListener(\"click\", () => {\r\n      this.next();\r\n    });\r\n  }\r\n\r\n  setupResize() {\r\n    window.addEventListener(\"resize\", this.resize.bind(this));\r\n  }\r\n\r\n  resize() {\r\n    this.width = this.container.getBoundingClientRect().width;\r\n    this.height = this.container.getBoundingClientRect().height;\r\n\r\n    this.renderer.setSize(this.width, this.height);\r\n    this.camera.aspect = this.width / this.height;\r\n\r\n    const vFOV = ThreeMath.degToRad(this.camera.fov); // convert vertical fov to radians\r\n    var height = 2 * Math.tan(vFOV / 2) * this.camera.position.z; // visible height\r\n    var width = height * this.camera.aspect;\r\n    this.plane.scale.x = width;\r\n    this.plane.scale.y = height;\r\n\r\n    // image cover\r\n    this.imageAspect =\r\n      this.textures[0].image.height / this.textures[0].image.width;\r\n    let a1;\r\n    let a2;\r\n    if (this.height / this.width > this.imageAspect) {\r\n      a1 = (this.width / this.height) * this.imageAspect;\r\n      a2 = 1;\r\n    } else {\r\n      a1 = 1;\r\n      a2 = this.height / this.width / this.imageAspect;\r\n    }\r\n\r\n    this.material.uniforms.resolution.value.x = this.width;\r\n    this.material.uniforms.resolution.value.y = this.height;\r\n    this.material.uniforms.resolution.value.z = a1;\r\n    this.material.uniforms.resolution.value.w = a2;\r\n\r\n    const dist = this.camera.position.z;\r\n    const heighta = 1;\r\n    this.camera.fov = 2 * (180 / Math.PI) * Math.atan(heighta / (2 * dist));\r\n\r\n    this.plane.scale.x = this.camera.aspect;\r\n    this.plane.scale.y = 1;\r\n\r\n    this.camera.updateProjectionMatrix();\r\n  }\r\n\r\n  addObjects() {\r\n    this.geometry = new PlaneGeometry(1, 1, 2, 2);\r\n\r\n    this.plane = new Mesh(this.geometry, this.material);\r\n  }\r\n\r\n  addEventListeners() {\r\n    console.log(\"Optimisation: use event delegationfor thumbnails.\");\r\n\r\n    this.thumbnails.forEach(thumbnail => {\r\n      thumbnail.addEventListener(\"click\", this.onThumbnailClick.bind(this));\r\n    });\r\n\r\n    this.prevBtn.addEventListener(\"click\", this.prev.bind(this));\r\n    this.nextBtn.addEventListener(\"click\", this.next.bind(this));\r\n  }\r\n\r\n  prev() {\r\n    let nextTexture =\r\n      this.current - 1 > -1 ? this.current - 1 : this.textures.length - 1;\r\n    this.goTo(nextTexture);\r\n  }\r\n\r\n  next() {\r\n    let nextTexture =\r\n      this.current + 1 < this.textures.length ? this.current + 1 : 0;\r\n    this.goTo(nextTexture);\r\n  }\r\n\r\n  onThumbnailClick(e) {\r\n    const nextSlideIndex = e.currentTarget.getAttribute(\"data-thumb-index\");\r\n    this.goTo(nextSlideIndex);\r\n  }\r\n\r\n  goTo(index) {\r\n    index = parseInt(index);\r\n\r\n    if (index != this.current) {\r\n      this.updateTimeline(index);\r\n\r\n      this.thumbnails.forEach(thumbnail => {\r\n        if (thumbnail.classList.contains(\"active\")) {\r\n          thumbnail.classList.remove(\"active\");\r\n        }\r\n      });\r\n      this.thumbnails[index].classList.add(\"active\");\r\n\r\n      gsap.to(this.material.uniforms.progress, this.duration, {\r\n        value: 1,\r\n        onStart: () => {\r\n          this.material.uniforms.texture2.value = this.textures[index];\r\n        },\r\n        ease: this.ease,\r\n        onComplete: () => {\r\n          this.current = index;\r\n          this.material.uniforms.texture1.value = this.textures[index];\r\n          this.material.uniforms.progress.value = 0;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  updateTimeline(nextIndex) {\r\n    if (this.current != undefined) {\r\n      const currentProgressEl = this.thumbnails[this.current].querySelector(\r\n        \".progress\"\r\n      );\r\n      gsap.killTweensOf(currentProgressEl);\r\n    }\r\n\r\n    const progress = { value: 0 };\r\n    gsap.fromTo(\r\n      progress,\r\n      this.autoplayDuration,\r\n      {\r\n        value: 0\r\n      },\r\n      {\r\n        value: 1,\r\n        ease: \"linear\",\r\n        onUpdate: () => {\r\n          this.thumbnails[nextIndex]\r\n            .querySelector(\".progress\")\r\n            .style.setProperty(\"--progress\", progress.value);\r\n        },\r\n        onComplete: () => {\r\n          this.next();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    requestAnimationFrame(this.render.bind(this));\r\n    this.renderer.render(this.scene, this.camera);\r\n  }\r\n}\r\n\r\nexport default Slideshow;\r\n","import gsap from \"gsap\";\r\n\r\nconst hiddenElsClassName = \".js-hidden\";\r\nconst scaleVariableName = \"--curtain-scale-x\";\r\nconst transformOriginVariableName = \"--curtain-transform-origin\";\r\nconst defaultDuration = 1;\r\n\r\nclass Curtain {\r\n  constructor(options) {\r\n    this.id = options.id;\r\n    this.el = options.el;\r\n    this.hiddenEls = this.el.querySelectorAll(hiddenElsClassName);\r\n    this.scale = {\r\n      y: 0\r\n    };\r\n    this.duration =\r\n      options.duration ||\r\n      this.el.getAttribute(\"data-curtain-duration\") ||\r\n      defaultDuration;\r\n    this.curtainScaleInCallbacks = [];\r\n    this.setup();\r\n  }\r\n\r\n  setup() {\r\n    gsap.set(this.hiddenEls, {\r\n      opacity: 0\r\n    });\r\n  }\r\n\r\n  applyCallbacks() {\r\n    if (this.curtainScaleInCallbacks.length > 0) {\r\n      this.curtainScaleInCallbacks.forEach(callback => {\r\n        callback();\r\n      });\r\n    }\r\n  }\r\n\r\n  switchTransformOrigin() {\r\n    this.el.style.setProperty(transformOriginVariableName, \"50% 0%\");\r\n  }\r\n\r\n  displayHiddenEls() {\r\n    gsap.set(this.hiddenEls, {\r\n      opacity: 1\r\n    });\r\n  }\r\n\r\n  reveal(delay) {\r\n    gsap.to(this.scale, {\r\n      keyframes: [\r\n        {\r\n          y: 1,\r\n          duration: this.duration,\r\n          onComplete: () => {\r\n            this.applyCallbacks();\r\n            this.switchTransformOrigin();\r\n            this.displayHiddenEls();\r\n          },\r\n          delay: delay\r\n        },\r\n        {\r\n          y: 0,\r\n          duration: this.duration\r\n        }\r\n      ],\r\n      delay,\r\n      onUpdate: () => {\r\n        this.el.style.setProperty(scaleVariableName, this.scale.y);\r\n      }\r\n    });\r\n  }\r\n\r\n  addCurtainScaleInCallback(callback) {\r\n    this.curtainScaleInCallbacks.push(callback);\r\n  }\r\n}\r\n\r\nexport default Curtain;\r\n","import gsap from \"gsap\";\r\n\r\nclass Header {\r\n  constructor() {\r\n    this.logo = document.querySelector(\".js-logo\");\r\n    this.porscheEl = document.querySelector(\".js-porsche\");\r\n    this.singerEl = document.querySelector(\".js-singer\");\r\n    this.singerMaskEl = document.querySelector(\".js-singer-mask\");\r\n    this.TL = gsap.timeline();\r\n\r\n    this.setPorscheStartPosition();\r\n    this.setSingerStartPosition();\r\n  }\r\n\r\n  // WE NEED TO MAKE SURE THAT THAT CSS HAVE BEEN TAKEN INTO ACCOUNT WHEN RUNNING THIS CODE\r\n  // OTHERWISE, GETBOUNDINGCLIENTRECT.WIDTH WILL RETURN THE WIDTH OF THE WINDOW, AS SVG TAKE UP\r\n  // ALL THE SPACE AVAILABLE\r\n  setPorscheStartPosition() {\r\n    const boundingClientRect = this.porscheEl.getBoundingClientRect();\r\n\r\n    const widthWV = 30;\r\n    const widthMaxPX = 500;\r\n    const widthMinPX = boundingClientRect.width;\r\n    const newWidth = Math.max(\r\n      Math.min((widthWV / 100) * window.innerWidth, widthMaxPX),\r\n      widthMinPX\r\n    );\r\n    const scale = newWidth / boundingClientRect.width;\r\n    const newX = (innerWidth - boundingClientRect.width * scale) / 2;\r\n    const newY = innerHeight / 2 - (boundingClientRect.height * scale) / 2;\r\n\r\n    gsap.set(this.porscheEl, {\r\n      scale,\r\n      x: newX - boundingClientRect.x,\r\n      y: newY - boundingClientRect.y\r\n    });\r\n  }\r\n\r\n  setSingerStartPosition() {\r\n    const boundingClientRect = this.singerEl.getBoundingClientRect();\r\n    const widthWV = 30;\r\n    const widthMaxPX = 500;\r\n    const widthMinPX = boundingClientRect.width;\r\n    const newWidth = Math.max(\r\n      Math.min((widthWV / 100) * window.innerWidth, widthMaxPX),\r\n      widthMinPX\r\n    );\r\n    const scale = newWidth / boundingClientRect.width;\r\n    const newX = innerWidth / 2 - (boundingClientRect.width * scale) / 2;\r\n    const newY = innerHeight / 2 - (boundingClientRect.height * scale) / 2;\r\n\r\n    const newPorscheBoundingRect = this.porscheEl.getBoundingClientRect();\r\n    const xOff = -(newPorscheBoundingRect.width / 15);\r\n    const yOff = newPorscheBoundingRect.height * 1.5;\r\n    gsap.set(this.singerEl, {\r\n      scale,\r\n      x: newX - boundingClientRect.x + xOff,\r\n      y: newY - boundingClientRect.y + yOff\r\n    });\r\n  }\r\n\r\n  animateIn() {\r\n    return new Promise(resolve => {\r\n      this.TL.to(this.singerMaskEl, 2.5, {\r\n        strokeDashoffset: 0\r\n      });\r\n      this.TL.to([this.singerEl, this.porscheEl], 0.5, {\r\n        scale: 1,\r\n        x: 0,\r\n        y: 0,\r\n        onComplete: resolve\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","// Based on breakpoints declared in CSS\r\nfunction smallViewport() {\r\n  const cssValue = window\r\n    .getComputedStyle(document.documentElement)\r\n    .getPropertyValue(\"--bp-small\");\r\n  const maxWidth = parseInt(cssValue);\r\n  return window.innerWidth < maxWidth;\r\n}\r\n\r\nexport default smallViewport;\r\n","import gsap from \"gsap\";\r\n\r\nfunction tweenCSSVar(varName, el, duration, from, to) {\r\n  const variable = {\r\n    value: from\r\n  };\r\n\r\n  gsap.to(variable, {\r\n    value: to,\r\n    duration: duration,\r\n    onUpdate: () => {\r\n      el.style.setProperty(varName, variable.value);\r\n    }\r\n  });\r\n}\r\n\r\nexport default tweenCSSVar;\r\n","import gsap from \"gsap\";\r\nimport Curtain from \"./Curtain\";\r\nimport Header from \"./Header\";\r\nimport smallViewport from \"../utility/smallViewport\";\r\nimport tweenCSSVar from \"../utility/tweenCSSVar\";\r\n\r\nfunction cancelTween(target) {\r\n  gsap.killTweensOf(target, \"opacity,y\");\r\n  target.setAttribute(\"style\", null);\r\n}\r\n\r\nclass Intro {\r\n  constructor() {\r\n    this.staggerEls = document.querySelectorAll(\".js-stagger\");\r\n    this.curtainEls = document.querySelectorAll(\".js-curtain\");\r\n    this.footerEl = document.querySelector(\".js-footer\");\r\n\r\n    this.curtainsAnimationOffset = 0.5;\r\n    this.TL = gsap.timeline();\r\n    this.header = new Header();\r\n\r\n    this.setupCurtains();\r\n    this.hideStuff();\r\n  }\r\n\r\n  setupCurtains() {\r\n    this.curtainEls.forEach((el, i) => {\r\n      el._curtain = new Curtain({ el, id: i, duration: 0.5 });\r\n    });\r\n  }\r\n\r\n  // Hide everything that we intend to animate in\r\n  hideStuff() {\r\n    gsap.set(this.staggerEls, {\r\n      opacity: 0,\r\n      y: 20\r\n    });\r\n    gsap.set(this.footerEl, {\r\n      scaleX: 0\r\n    });\r\n  }\r\n\r\n  animateStaggers(collection, offset) {\r\n    this.TL.to(\r\n      collection,\r\n      {\r\n        opacity: 1,\r\n        y: 0,\r\n        duration: 0.5,\r\n        stagger: 0.1\r\n      },\r\n      offset\r\n    );\r\n  }\r\n\r\n  animateCurtains() {\r\n    this.TL.to(\r\n      this.curtainEls,\r\n      {\r\n        stagger: {\r\n          amount: 0.5,\r\n          onStart: this.onStartCurtainTween\r\n        }\r\n      },\r\n      `-=${this.curtainsAnimationOffset}`\r\n    );\r\n  }\r\n\r\n  animateFooter() {\r\n    this.TL.to(\r\n      this.footerEl,\r\n      {\r\n        duration: 0.5,\r\n        scaleX: 1,\r\n        onComplete: () => {\r\n          tweenCSSVar(\"--gradient-opacity\", this.footerEl, 0.5, 0, 0.08);\r\n        }\r\n      },\r\n      `-=${this.curtainsAnimationOffset}`\r\n    );\r\n  }\r\n\r\n  onStartCurtainTween() {\r\n    const target = this._targets[0];\r\n    cancelTween(target, \"opacity,y\");\r\n\r\n    // Animate in default thumbnail drop-shadow\r\n    if (target.classList.contains(\"js-shadow\")) {\r\n      const parent = target.closest(\"li\");\r\n      target._curtain.addCurtainScaleInCallback(() => {\r\n        tweenCSSVar(\"--shadow-opacity\", parent, 0.5, 0, 1);\r\n      });\r\n    }\r\n\r\n    // Animate in ACTIVE thumbnail drop-shadow\r\n    const thumbnail = target.closest(\".thumbnail\");\r\n    if (thumbnail && thumbnail.classList.contains(\"active\")) {\r\n      thumbnail.setAttribute(\"style\", \"--shadow-opacity: 0;\");\r\n      target._curtain.addCurtainScaleInCallback(() => {\r\n        tweenCSSVar(\"--shadow-opacity\", thumbnail, 0.5, 0, 1);\r\n      });\r\n    }\r\n\r\n    target._curtain.reveal();\r\n  }\r\n\r\n  animateIn() {\r\n    this.header.animateIn().then(() => {\r\n      // Based on the width of the viewport, we rearrange the order in wich elements are animating in\r\n      // Large VP: animate content, then curtains, then footer\r\n      // Small VP: animate header content, then curtain, then content, then footer\r\n      if (smallViewport()) {\r\n        this.animateInSmallScreen();\r\n      } else {\r\n        this.animateInLargeScreen();\r\n      }\r\n    });\r\n  }\r\n\r\n  animateInLargeScreen() {\r\n    // Animate in \"basic stuff\"\r\n    this.animateStaggers(this.staggerEls);\r\n\r\n    // Animate slideshow and thumbnails\r\n    this.animateCurtains();\r\n\r\n    // Animate footer\r\n    this.animateFooter();\r\n  }\r\n\r\n  animateInSmallScreen() {\r\n    // Remove header's buttons from staggerEls\r\n    const headerButtons = [];\r\n    const elsToStagger = Array.from(this.staggerEls);\r\n    // the following won't work in the buttons aren't the first two entry of array\r\n    headerButtons.push(elsToStagger.shift());\r\n    headerButtons.push(elsToStagger.shift());\r\n\r\n    // Animate in buttons\r\n    this.animateStaggers(headerButtons);\r\n\r\n    // Animate in slideshow and thumbnails\r\n    this.animateCurtains();\r\n\r\n    // Animate in content\r\n    this.animateStaggers(elsToStagger);\r\n\r\n    // Animate in footer\r\n    this.animateFooter();\r\n  }\r\n}\r\n\r\nexport default Intro;\r\n","import \"../scss/index.scss\";\r\n\r\nimport Grain from \"./components/Grain\";\r\nimport Slideshow from \"./components/Slideshow\";\r\nimport Intro from \"./components/Intro\";\r\nimport fragment from \"../shaders/slideshow/fragment.glsl\";\r\n\r\nnew Grain();\r\n\r\nnew Slideshow({\r\n  debug: true,\r\n  uniforms: {},\r\n  intensity: 0.1,\r\n  transitionDuration: 0.5,\r\n  autoplayDuration: 8,\r\n  ease: \"power2.out\",\r\n  // NOTE: Currently only works if all images have the same aspect ratio.\r\n  // Refer to the resize function within the Sketch class\r\n  images: [\r\n    \"./public/slides/1.jpg\",\r\n    \"./public/slides/2.jpg\",\r\n    \"./public/slides/3.jpg\"\r\n  ],\r\n  containerId: \"js-slideshow-container\",\r\n  canvasId: \"slideshow\",\r\n  thumbnailsClass: \"js-thumbnail\",\r\n  nextClass: \"js-next\",\r\n  prevClass: \"js-prev\",\r\n  fragment\r\n});\r\n\r\nconst intro = new Intro({});\r\nintro.animateIn();\r\n","export default \"#define GLSLIFY 1\\nuniform float time;\\nuniform float progress;\\nuniform float width;\\nuniform float scaleX;\\nuniform float scaleY;\\nuniform float transition;\\nuniform float radius;\\nuniform float intensity;\\nuniform sampler2D texture1;\\nuniform sampler2D texture2;\\nuniform sampler2D displacement;\\nuniform vec4 resolution;\\nvarying vec2 vUv;\\nvoid main()\\t{\\n    vec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);\\n    vec4 d1 = texture2D(texture1, newUV);\\n    vec4 d2 = texture2D(texture2, newUV);\\n    float displace1 = (d1.r + d1.g + d1.b)*0.33;\\n    float displace2 = (d2.r + d2.g + d2.b)*0.33;\\n\\n    vec4 t1 = texture2D(texture1, vec2(newUV.x, newUV.y + progress * (displace2 * intensity)));\\n    vec4 t2 = texture2D(texture2, vec2(newUV.x, newUV.y + (1.0 - progress) * (displace1 * intensity)));\\n    gl_FragColor = mix(t1, t2, progress);\\n    /*\\n    vec3 color = texture2D(texture1, vUv).rgb;\\n    gl_FragColor = vec4(color, 1.0);\\n    */\\n}\";"],"sourceRoot":""}